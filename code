var trackList = getColumn("Top 50 USA", "Track Name");
var artistList = getColumn("Top 50 USA", "Artist");
var oldestFirst = true;


// Allows user to get to input screen
onEvent("top50Button", "click", function( ) {
  setScreen("inputScreen");
  playSound("sound://category_hits/puzzle_game_magic_item_unlock_4.mp3", false);
});

// Allows user to move from input to result screen
onEvent("searchButton", "click", function( ) {
  playSound("sound://category_hits/puzzle_game_magic_item_unlock_4.mp3", false);
  setScreen("resultsScreen");
  oldestFirst = getProperty("oldRadioButton", "checked");
  sortByArtist();
  printEntireList();
});

// Allows user to start a new search
onEvent("restartButton", "click", function( ) {
  setScreen("inputScreen");
  playSound("sound://category_hits/puzzle_game_magic_item_unlock_4.mp3", false);
});

onEvent("inputBackButton", "click", function( ) {
  setScreen("homeScreen");
  playSound("sound://category_hits/puzzle_game_magic_item_unlock_4.mp3", false);
});

// Sorts list smallest number (oldest) to larget (newest)
// Uses filtering to order the list by old to
function sortByArtist() {
  var temp;
  var swapped = false;
  for (var i = 0; i < artistList.length; i++) {
    swapped = false;
    for (var j = 0; j < artistList.length - 1; j++) {
      if (artistList[j] > artistList[j + 1]) {
        temp = artistList[j];
        artistList[j] = artistList[j+1];
        artistList[j+1] = temp;
        // Swapping names also
        temp = trackList[j];
        trackList[j] = trackList[j+1];
        trackList[j+1] = temp;
        swapped = true;
      if (swapped == false)
      break;
      }
    }
  }
  if (swapped == false) {
  }
}

// Outputs entire list to result page
function printEntireList() {
  var outputString = "";
  var i;
  if (oldestFirst) {
    for (i = 0; i < artistList.length; i++) {
      outputString = outputString + trackList[i] + ", " + artistList[i] + "\n";
    }
  } else {
    for ( i = artistList.length - 1; i > -1; i--) {
      outputString = outputString + trackList[i] + ", " + artistList[i] + "\n";
    }
  }
  setText("resultTextArea", outputString);
}




